{% extends "base.html" %} {% block content %}
<div class="container" style="margin-top: 50px">
  <h3>Manage Categories</h3>
  <a href="{{ url_for('add_category') }}" class="btn">Add New Category</a>
  <ul class="collection">
    {% for category in categories %}
    <li class="collection-item">
      {{ category.name }}
      <!-- Edit link -->
      <a
        href="{{ url_for('edit_category', category_id=category.id) }}"
        class="secondary-content"
      >
        <i class="material-icons">edit</i>
      </a>
      <!-- Delete link triggers the modal -->
      <a
        href="#deleteModal"
        class="secondary-content modal-trigger delete-btn"
        data-category-id="{{ category.id }}"
        data-category-name="{{ category.name }}"
        style="margin-right: 40px"
      >
        <i class="material-icons red-text">delete</i>
      </a>
    </li>
    {% endfor %}
  </ul>
</div>

<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="modal">
  <div class="modal-content">
    <h4>Confirm Deletion</h4>
    <p id="deleteMessage">
      Are you sure you want to delete this category? This action cannot be
      undone.
    </p>
  </div>
  <div class="modal-footer delete-category-modal">
    <a href="#!" class="modal-close btn-flat">Cancel</a>
    <!-- Delete form; the action will be set dynamically -->
    <form id="deleteForm" method="POST" action="">
      <button type="submit" class="btn red">Delete</button>
    </form>
  </div>
</div>

{% endblock %}
